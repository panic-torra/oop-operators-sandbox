#pragma once
#include <iostream>

/*
Класс, моделирующий рациональное число
*/
class CRational final
{
public:
	CRational(int numerator = 0, int denominator = 1);

	// Возвращает числитель
	int GetNumerator() const;

	// Возвращает знаменатель
	int GetDenominator() const;

	//Возвращает рациональное число в виде смешанной дроби
	std::pair<int, CRational> ToCompoundFraction()const;

	//////////////////////////////////////////////////////////////////////////
	// TODO: 1. Реализовать метод ToDouble() согласно заданию
	//////////////////////////////////////////////////////////////////////////
	double CRational::ToDouble() const;

	//////////////////////////////////////////////////////////////////////////
	// TODO: 2. Реализовать унарный + и унарный -
	//////////////////////////////////////////////////////////////////////////
	const CRational CRational::operator+() const;
	const CRational CRational::operator-() const;

	//////////////////////////////////////////////////////////////////////////
	// TODO: 3. Реализовать бинарный +
	//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////
	// TODO: 4. Реализовать бинарный -
	//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////
	// TODO: 5. Реализовать оператор +=
	//////////////////////////////////////////////////////////////////////////
	const CRational & operator+=(const CRational & sum);

	//////////////////////////////////////////////////////////////////////////
	// TODO: 6. Реализовать оператор -=
	//////////////////////////////////////////////////////////////////////////
	const CRational & operator-=(const CRational & subtrahend);

	//////////////////////////////////////////////////////////////////////////
	// TODO: 7. Реализовать оператор *
	//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////
	// TODO: 8. Реализовать оператор /
	//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////
	// TODO: 9. Реализовать оператор *=
	//////////////////////////////////////////////////////////////////////////
	const CRational & CRational::operator*=(const CRational & multiplier);

	//////////////////////////////////////////////////////////////////////////
	// TODO: 10. Реализовать оператор /=
	//////////////////////////////////////////////////////////////////////////
	const CRational & operator/=(const CRational & divider);

	//////////////////////////////////////////////////////////////////////////
	// TODO: 11. Реализовать операторы == и !=
	//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////
	// TODO: 12. Реализовать операторы <, >, <=, >=
	//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////
	// TODO: 13. Реализовать оператор вывода рационального числа в выходной поток 
	//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////
	// TODO: 14. Реализовать оператор ввода рационального числа из входного потока 
	//////////////////////////////////////////////////////////////////////////
private:
	int m_numerator;
	int m_denominator;

	// Нормализует рациональное число
	void Normalize();
};

// Вычисляет наибольший общий делитель (greatest common denominator) чисел a и b
unsigned GCD(unsigned a, unsigned b);

const CRational operator+(const CRational & left, const CRational & right);
const CRational operator-(const CRational & left, const CRational & right);

const CRational operator*(const CRational & left, const CRational & right);
const CRational operator/(const CRational & left, const CRational & right);

const bool operator ==(CRational const & left, CRational const & right);
const bool operator !=(CRational const & left, CRational const & right);

const bool operator <(CRational const & left, CRational const & right);
const bool operator >=(CRational const & left, CRational const & right);
const bool operator >(CRational const & left, CRational const & right);
const bool operator <=(CRational const & left, CRational const & right);

std::ostream & operator <<(std::ostream & output, const CRational & rational);
std::istream & operator >> (std::istream & input, CRational & rational);